---
import ListItem from '~/components/ListItem.astro'
import ListSection from '~/components/ListSection.astro'
import Default from '~/layouts/Default.astro'
import { getCategories } from '~/utils/index'

const { translate: t } = Astro.locals

const categories = await getCategories()
---

<Default>
  <ListSection title={t('Categories')}>
    {Array.from(categories).map(([key, value]) => <ListItem title={key} href={`/categories/${key}`} description={t('CategoriesCount', value.length)} />)}
  </ListSection>
</Default>
